<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>p0kks</title>
  <meta name="description" content="p0kks - Coding with a fetish of minimalism and logic. Creating music with intuition and emotion. Dedicated to find balance between two distinct worlds.">
  <meta name="keywords" content="audio, sound design, minimal, experimental, composition, developer, programmer">
  <meta name="author" content="p0kks">
  <meta property="og:title" content="p0kks">
  <meta property="og:description" content="Coding with a fetish of minimalism and logic. Creating music with intuition and emotion. Dedicated to find balance between two distinct worlds">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://p0kks.github.io">
  <link rel="icon" href="p0kks.png" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #000;
      --text-primary: #fff;
      --text-secondary: #ccc;
      --text-muted: #999;
      --text-subtle: #666;
      --text-faint: #555;
      --border-color: #333;
      --accent-color: #fff;
      --accent-hover: #888;
      --button-bg: #fff;
      --button-text: #000;
      --button-hover: #ccc;
      --font-mono: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Inconsolata', monospace;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--font-mono);
      font-weight: 500;
      line-height: 1.2;
      padding: 40px 20px;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background: var(--bg-primary);
      backdrop-filter: blur(10px);
    }

    .runes {
      font-size: 14px;
      color: var(--text-subtle);
      user-select: none;
    }

    .copyright {
      font-size: 14px;
      color: var(--text-subtle);
      font-weight: 400;
    }

    .clock {
      font-size: 14px;
      color: var(--text-subtle);
      font-weight: 400;
      font-variant-numeric: tabular-nums;
      min-width: 72px;
      text-align: center;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      padding-bottom: 100px;
    }

    nav {
      margin-bottom: 80px;
      position: sticky;
      top: 0;
      background: var(--bg-primary);
      padding: 20px 0;
      z-index: 10;
    }

    nav a {
      color: var(--text-primary);
      text-decoration: none;
      font-size: 16px;
      margin-right: 40px;
      font-weight: 600;
      position: relative;
      transition: color 0.2s ease;
    }

    nav a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--text-primary);
      transition: width 0.3s ease;
    }

    nav a:hover {
      color: var(--accent-hover);
    }

    nav a:hover::after {
      width: 100%;
    }

    nav a.active {
      color: var(--accent-hover);
    }

    nav a.active::after {
      width: 100%;
      background: var(--accent-hover);
    }

    .page {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      font-size: clamp(32px, 8vw, 42px);
      font-weight: 700;
      margin-bottom: 40px;
      letter-spacing: -1px;
    }

    h2 {
      font-size: clamp(24px, 6vw, 28px);
      font-weight: 600;
      margin-bottom: 30px;
      letter-spacing: 0;
    }

    p {
      font-size: 16px;
      font-weight: 400;
      line-height: 1.6;
      margin-bottom: 30px;
      color: var(--text-secondary);
    }

    .project {
      margin-bottom: 60px;
      padding: 20px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .project:last-child {
      border-bottom: none;
    }

    .project h3 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-primary);
    }

    .project h3 a {
      color: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .project h3 a:hover {
      color: var(--accent-hover);
    }

    .project p {
      font-size: 14px;
      margin-bottom: 0;
      color: var(--text-muted);
    }

    .audio-project {
      margin-bottom: 50px;
      padding-bottom: 30px;
      border-bottom: 1px solid var(--border-color);
    }

    .audio-project:last-child {
      border-bottom: none;
    }

    .audio-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .audio-description {
      font-size: 14px;
      font-weight: 400;
      color: var(--text-muted);
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .audio-tags, .project-tags {
      margin-bottom: 15px;
    }

    .tag {
      display: inline-block;
      font-size: 11px;
      font-weight: 500;
      color: var(--text-subtle);
      margin-right: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 4px 8px;
      background: rgba(102, 102, 102, 0.1);
      border-radius: 4px;
      transition: background 0.2s ease;
    }

    .tag:hover {
      background: rgba(102, 102, 102, 0.2);
    }

    .audio-player {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .play-btn {
      background: var(--button-bg);
      color: var(--button-text);
      border: none;
      width: 32px;
      height: 32px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
      border-radius: 4px;
      transition: background 0.2s ease, transform 0.1s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .play-btn:hover {
      background: var(--button-hover);
      transform: scale(1.05);
    }

    .play-btn:active {
      transform: scale(0.95);
    }

    .audio-info {
      font-size: 12px;
      color: var(--text-subtle);
      font-weight: 500;
    }

    .folder-structure {
      font-size: 12px;
      color: var(--text-faint);
      margin-bottom: 30px;
      font-weight: 400;
      user-select: none;
    }

    .folder-structure.dev::before {
      content: "dev/";
      color: var(--text-subtle);
    }

    .folder-structure.audio::before {
      content: "audio/";
      color: var(--text-subtle);
    }

    .contact {
      margin-top: 60px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .contact a {
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 500;
      margin-right: 30px;
      position: relative;
      transition: color 0.2s ease;
    }

    .contact a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--text-primary);
      transition: width 0.3s ease;
    }

    .contact a:hover {
      color: var(--accent-hover);
    }

    .contact a:hover::after {
      width: 100%;
      background: var(--accent-hover);
    }

    .loading {
      color: var(--text-subtle);
      font-style: italic;
      font-size: 14px;
    }

    .error {
      color: #ff6b6b;
      font-size: 14px;
      padding: 10px;
      background: rgba(255, 107, 107, 0.1);
      border-radius: 4px;
      margin: 20px 0;
    }

    @media (max-width: 768px) {
      body {
        padding: 20px 15px;
      }
      
      nav {
        padding: 15px 0;
      }
      
      nav a {
        margin-right: 25px;
        font-size: 14px;
      }
      
      h1 {
        margin-bottom: 30px;
      }
      
      h2 {
        margin-bottom: 25px;
      }
      
      p {
        font-size: 14px;
      }

      .contact {
        flex-direction: column;
        align-items: flex-start;
      }

      .contact a {
        margin-right: 0;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding-bottom: 120px;
      }

      .footer {
        flex-direction: column;
        gap: 10px;
        padding: 15px;
      }

      nav a {
        margin-right: 20px;
        font-size: 13px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <nav>
      <a href="#" onclick="showPage('index', this)" class="nav-link active" aria-label="Home page">Index</a>
      <a href="#" onclick="showPage('projects', this)" class="nav-link" aria-label="Projects page">Projects</a>
      <a href="#" onclick="showPage('about', this)" class="nav-link" aria-label="About page">About</a>
    </nav>

    <!-- Index Page -->
    <div id="index" class="page active">
      <h1>p0kks</h1>
      <p>Coding with a fetish of minimalism and logic. Creating music with intuition and emotion.</p>
      <p>Dedicated to find balance between two distinct worlds.</p>
    </div>

    <!-- Projects Page -->
    <div id="projects" class="page">
      <h2>Projects</h2>

      <div class="folder-structure dev">💻 Projects</div>
      <div id="computer-projects" class="loading">Loading projects...</div>

      <div class="folder-structure audio">🎸 Projects</div>
      <div id="audio-projects" class="loading">Loading audio...</div>
    </div>

    <!-- About Page -->
    <div id="about" class="page">
      <h2>About</h2>
      <p>Singer-songwriter and developer who believes in the power of simplicity. My work focuses on removing unnecessary elements to reveal what truly matters.</p>
      
      <p>🤓 & 🐱 with 🖥️ & 🎸</p>

      <div class="contact">
        <a href="https://twitter.com/p0kks" target="_blank" rel="noopener noreferrer" aria-label="Twitter profile">Twitter</a>
        <a href="https://github.com/p0kks" target="_blank" rel="noopener noreferrer" aria-label="GitHub profile">GitHub</a>
        <a href="https://discord.gg/CVG27QpcRZ" target="_blank" rel="noopener noreferrer" aria-label="Discord server">Discord</a>
        <a href="https://t.me/p0kks" target="_blank" rel="noopener noreferrer" aria-label="Telegram contact">Telegram</a>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="clock" id="clock" aria-label="Current time"></div>
    <div class="runes" aria-label="Norwegian runes">ᚾᛟᚱᚹᚨᛁ</div>
    <div class="copyright">© p0kks <span id="year"></span></div>
  </div>

  <script>
    // Constants
    const SAMPLE_COMPUTER_PROJECTS = [
      {
        title: "Minimal Task Manager",
        description: "Ultra-lightweight task management system built with vanilla JavaScript. Zero dependencies, maximum efficiency.",
        tags: ["javascript", "productivity", "minimal"],
        link: "https://github.com/p0kks/minimal-tasks"
      },
      {
        title: "Audio Compression Tool",
        description: "Command-line tool for batch audio compression using FFmpeg. Optimized for web delivery with quality preservation.",
        tags: ["python", "audio", "cli"],
        link: "https://github.com/p0kks/audio-compress"
      },
      {
        title: "Nordic Color Palette",
        description: "Carefully curated color schemes inspired by Scandinavian design principles. Available for VS Code and other editors.",
        tags: ["design", "vscode", "theme"],
        link: "https://github.com/p0kks/nordic-colors"
      }
    ];

    const SAMPLE_AUDIO_PROJECTS = [];

    // Utility functions
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString('en-US', { 
        hour12: false,
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      });
      const clockElement = document.getElementById('clock');
      if (clockElement) {
        clockElement.textContent = time;
      }
    }

    function showError(containerId, message) {
      const container = document.getElementById(containerId);
      if (container) {
        container.innerHTML = `<div class="error">⚠ ${message}</div>`;
      }
    }

    function createProjectElement(project, isAudio = false) {
      const projectElement = document.createElement('div');
      projectElement.classList.add(isAudio ? 'audio-project' : 'project');
      
      if (isAudio) {
        const audioId = `audio_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
        projectElement.innerHTML = `
          <div class="audio-title">${escapeHtml(project.title)}</div>
          <div class="audio-description">${escapeHtml(project.description)}</div>
          <div class="audio-tags">
            ${project.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
          </div>
          <div class="audio-player">
            <button class="play-btn" onclick="togglePlay(this, '${audioId}')" aria-label="Play ${escapeHtml(project.title)}">▶</button>
            <audio id="${audioId}" preload="metadata">
              <source src="${project.audioSrc}" type="audio/mpeg">
            </audio>
            <div class="audio-info">${escapeHtml(project.duration)} • ${escapeHtml(project.size)}</div>
          </div>
        `;
      } else {
        projectElement.innerHTML = `
          <h3><a href="${project.link}" target="_blank" rel="noopener noreferrer">${escapeHtml(project.title)}</a></h3>
          <p>${escapeHtml(project.description)}</p>
          <div class="project-tags">
            ${project.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
          </div>
        `;
      }
      
      return projectElement;
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    async function loadProjects(url, containerId, isAudio = false, fallbackData = null) {
      const container = document.getElementById(containerId);
      if (!container) return;

      try {
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        
        const data = await response.json();
        container.innerHTML = '';
        
        if (!Array.isArray(data) || data.length === 0) {
          container.innerHTML = '<p class="loading">No projects found.</p>';
          return;
        }
        
        data.forEach(project => {
          const projectElement = createProjectElement(project, isAudio);
          container.appendChild(projectElement);
        });
        
      } catch (error) {
        console.error(`Failed to load projects from ${url}:`, error);
        
        if (fallbackData) {
          container.innerHTML = '';
          fallbackData.forEach(project => {
            const projectElement = createProjectElement(project, isAudio);
            container.appendChild(projectElement);
          });
        } else {
          showError(containerId, `Failed to load projects: ${error.message}`);
        }
      }
    }

    // Initialize application
    document.addEventListener('DOMContentLoaded', () => {
      // Start clock
      updateClock();
      setInterval(updateClock, 1000);
      
      // Set year
      const yearElement = document.getElementById('year');
      if (yearElement) {
        yearElement.textContent = new Date().getFullYear();
      }

      // Load projects with fallback data
      loadProjects('dev/dev.json', 'computer-projects', false, SAMPLE_COMPUTER_PROJECTS);
      loadProjects('audio/audio.json', 'audio-projects', true, SAMPLE_AUDIO_PROJECTS);
    });
  
    function showPage(pageId, linkElement) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Remove active state from nav links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      // Show target page
      const pageToShow = document.getElementById(pageId);
      if (pageToShow) {
        pageToShow.classList.add('active');
      }
      
      // Activate clicked nav link
      if (linkElement) {
        linkElement.classList.add('active');
      }
      
      // Stop all audio when switching pages
      document.querySelectorAll('audio').forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      document.querySelectorAll('.play-btn').forEach(btn => {
        btn.textContent = '▶';
      });
    }

    function togglePlay(button, audioId) {
      const audio = document.getElementById(audioId);
      if (!audio) return;

      const allAudio = document.querySelectorAll('audio');
      const allButtons = document.querySelectorAll('.play-btn');
      
      if (audio.paused) {
        // Pause all other audio
        allAudio.forEach(a => {
          if (a !== audio) {
            a.pause();
          }
        });
        
        // Reset all other buttons
        allButtons.forEach(btn => {
          if (btn !== button) {
            btn.textContent = '▶';
          }
        });
        
        // Play current audio
        audio.play().catch(e => {
          console.error('Failed to play audio:', e);
          button.textContent = '▶';
        });
        button.textContent = '⏸';
      } else {
        audio.pause();
        button.textContent = '▶';
      }
      
      // Reset button when audio ends
      audio.onended = () => {
        button.textContent = '▶';
      };
    }

    // Handle keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.altKey || e.ctrlKey || e.metaKey) return;
      
      const currentPage = document.querySelector('.page.active');
      if (!currentPage) return;
      
      const pages = ['index', 'projects', 'about'];
      const currentIndex = pages.indexOf(currentPage.id);
      
      if (e.key === 'ArrowLeft' && currentIndex > 0) {
        const prevLink = document.querySelectorAll('.nav-link')[currentIndex - 1];
        showPage(pages[currentIndex - 1], prevLink);
      } else if (e.key === 'ArrowRight' && currentIndex < pages.length - 1) {
        const nextLink = document.querySelectorAll('.nav-link')[currentIndex + 1];
        showPage(pages[currentIndex + 1], nextLink);
      }
    });
  </script>
</body>
</html>